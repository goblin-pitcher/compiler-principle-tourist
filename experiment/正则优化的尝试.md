编译原理里的正则语句的状态机分析，把`NFA`转换为`DFA`再进行优化，所以想着能不能反过来用这套分析法去优化正则语句。我试了下【匹配数字】和【`/(a*b+)*/`正则语句的优化】。
匹配数字：

![image.png](https://segmentfault.com/img/bVcZspq)

结论：加上起止符号，数字匹配的最优写法是/^\d*(\.\d+)?$/
`/(a*b+)*/`正则语句的优化：

![image.png](https://segmentfault.com/img/bVcZsrN)

结论是NFA语法的`/(a*b+)*/`可以转换成DFA的`/((a|b)*b)?/`

**目前暂时只能人工用这套优化方案，N、A状态集转换成正则这块现在暂时主要靠经验，没有理论指导**